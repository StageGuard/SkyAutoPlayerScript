# SkyAutoPlayerScript

ä½¿ç”¨Auto.jsæä¾›çš„æ— éšœç¢æƒé™å®ç°åœ¨Skyå…‰é‡ä¸­è‡ªåŠ¨å¼¹å¥[SkyStudio](https://play.google.com/store/apps/details?id=com.Maple.SkyStudio)å¯¼å‡ºçš„æ›²è°±

A script to play Sheets generated by SkyStudio automatically in game Sky with accessibility services using Auto.js

## ç‰¹æ€§ / Feature

ç›¸æ¯”äºå…¶ä»–è„šæœ¬ï¼ŒSkyAutoPlayerScriptæ‹¥æœ‰ä»¥ä¸‹ä¼˜åŠ¿

There are many features in SkyAutoPlayerScript compared to other auto player scripts.

* å…¨GUIæ“ä½œï¼Œæ— éœ€ç¼–è¾‘ä»»ä½•ä»£ç ï¼Œæµç•…çš„UIåŠ¨ç”»ã€‚<br>Friendly GUI, no code edit, fluent ui animation.
* å¤šåŠŸèƒ½çš„å¼¹å¥æ§åˆ¶é¢æ¿ï¼Œæ”¯æŒ**æš‚åœ**ï¼Œ **è¿›åº¦æ§åˆ¶**ï¼Œ **å€é€Ÿæ§åˆ¶**ç­‰<br>Multi-functional player control panel with **pause**, **progress control** and **speed control**.
* é€šè¿‡å¼•å¯¼è‡ªè®¾å®šé”®ä½åæ ‡ï¼Œé¿å…æŒ‰å‹ç´é”®çš„åç§»é—®é¢˜<br>Set key coordinates by yourself with guidence, avoiding key offset when playing.
* åœ¨çº¿[å…±äº«ä¹è°±](https://github.com/StageGuard/SkyAutoPlayerScript/tree/master/shared_sheets)ï¼Œæœ‰è®¸å¤šä¼˜è´¨ä¹è°±ã€‚</br>~~(ç”šè‡³æœ‰çš„ä¹è°±å¤æ‚åˆ°æ ¹æœ¬æ— æ³•æ‰‹å¼¹)~~<br>There are many excellent online [shared sheets](https://github.com/StageGuard/SkyAutoPlayerScript/tree/master/shared_sheets).
* è‡ªåŠ¨æ›´æ–°ï¼ŒåŠæ—¶ä¿®å¤BUGï¼Œæ— éœ€æ‹…å¿ƒç‰ˆæœ¬è¿‡æ—¶é—®é¢˜ã€‚<br>Automatically update script.
* [å¤šè¯­è¨€æ”¯æŒ](#ç¿»è¯‘--translation)<br>[Multi-language support](#ç¿»è¯‘--translation).
* ...

## ä½¿ç”¨ / Usage

â‘ Auto.js `4.1.1 Alpha2 (461)` ç‰ˆæœ¬ä¸‹è½½: [`Ericwyn/Auto.js/releases@V4.1.1.Alpha2`](https://github.com/Ericwyn/Auto.js/releases/tag/V4.1.1.Alpha2)

Download `Auto.js`[`Ericwyn/Auto.js/releases@V4.1.1.Alpha2`](https://github.com/Ericwyn/Auto.js/releases/tag/V4.1.1.Alpha2)

æ‰‹æœºè¯·ä¸‹è½½ `autoJs-V4.1.1.Alpha2-common-armeabi-v7a-debug.apk`

Please download `autoJs-V4.1.1.Alpha2-common-armeabi-v7a-debug.apk`

â‘¡ä¸ºAuto.jså¼€å¯**æ— éšœç¢æœåŠ¡**å’Œ**æ‚¬æµ®çª—æƒé™**ã€‚

Turn on **Accessibility service** and allow **Display pop-up window** permission for Auto.js

â‘¢åœ¨Auto.jsä¸­æ–°å»ºä¸€ä¸ªè„šæœ¬å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç å¹¶è¿è¡Œï¼š

Create a new script file in Auto.js. Copy the code below and run!

```javascript
"ui";
"use strict";
var emitter = events.emitter(threads.currentThread());
threads.start(function() {
  emitter.emit("evaluate", (function(){
    var resp = http.get("https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/source/SkyAutoplayer.js");
    if(resp.statusCode >= 200 && resp.statusCode < 300) {
      return resp.body.string();
    } else {
      resp = http.get("https://cdn.jsdelivr.net/gh/StageGuard/SkyAutoPlayerScript@" + http.get("https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/gitVersion").body.string() + "/source/SkyAutoplayer.js");
      if(resp.statusCode >= 200 && resp.statusCode < 300) {
        return resp.body.string();
      } else {
        return "console.show();console.log(\"Failed to load script\")";
      }
	}
  }()));
});
emitter.on('evaluate', function(s){
  eval(s);
});
```

åœ¨Auto.jsç‰ˆæœ¬ `4.1.1 Alpha2 (461)` ä¸­æµ‹è¯•é€šè¿‡ï¼Œä¸ä¿è¯å…¶ä»–ç‰ˆæœ¬çš„å…¼å®¹æ€§(å–å†³äºå…¶ä»–ç‰ˆæœ¬ç›¸å¯¹äºæ­¤ç‰ˆæœ¬çš„APIæ˜¯å¦æœ‰`breaking changes`)

## æ¸…é™¤æ•°æ® / Clear data

`SkyAutoPlayerScript` åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿæœ¬åœ°æ•°æ®å­˜å‚¨ï¼Œè‹¥æƒ³å…¨éƒ¨åˆ é™¤ï¼Œè¯·ä½¿ç”¨Auto.jsæ‰§è¡Œä»¥ä¸‹ä»£ç 

`SkyAutoPlayerScript` will store data while running, if you want to delete all data, please run the code below in Auto.js

```
storages.remove("StageGuard:SkyAutoPlayer:Config");
files.removeDir("/storage/emulated/0/Documents/SkyAutoPlayer/");
```

# ä¸Šä¼ ä¹è°± / Upload sheets

SkyAutoplayerScript å¯ä»¥ä»è¿™ä¸ªä»“åº“ä¸­çš„ `shared_sheets.json` è¯»å–åœ¨çº¿å…±äº«ä¹è°±åˆ—è¡¨å¹¶å¯ä»¥æ–¹ä¾¿åœ°ä¸‹è½½å’Œå¼¹å¥ã€‚

SkyAutoplayerScript will load online shared sheets from the file `shared_sheets.json` in this repository and it is convenient to download and play.

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼çš„ä»»æ„ä¸€ç§æ–¹å¼æ¥è®©ä½ è‡ªåˆ¶æˆ–ç»è¿‡åŸä½œè€…æˆæƒè½¬è½½çš„ä¹è°±åœ¨è¿™ä¸ªåˆ—è¡¨æ˜¾ç¤ºï¼š

If you want to let sheets that transcribed by yourself or permitted to reprint shown on the list, you can do one of the following ways:

### 1. Pull Request

ä½ å¯ä»¥å…‹éš†è¿™ä¸ªä»“åº“ï¼Œå°†ä½ çš„ä¹è°±æ·»åŠ åˆ° `shared_sheets` æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹è¦æ±‚åœ¨ `shared_sheets.json` ä¸­æ·»åŠ æ–°çš„é¡¹ç›®ï¼š

You can clone this repository, put your sheet file into `shared_sheets` folder and add a new item in `shared_sheets.json` :

```javascript
{
  //ä¹è°±åç§° / sheet name
  "name": "Vicetone - Nevada",
  //æ–‡ä»¶å / sheet file name in shared_sheets folder
  "file": "Nevada.txt",
  //ä¹è°±ä½œè€… / transcriber
  "author": "StageGuard",
  //ä¹è°±ç®€ä»‹ / short description about this sheet
  "desc": "Nevada SkyStudioé’¢ç´ç‰ˆã€‚\nå†…åŒ…å«<u>æ¯”è¾ƒå¤æ‚çš„å’Œå¼¦</u>ï¼Œä¸é€‚åˆæ‰‹å¼¹(ç¬‘\nä½ å¯ä»¥åœ¨SkyStudioçš„ç»ƒä¹ æ¨¡å¼è¯•è¯•[ç‹—å¤´]",
  //ä¹è°±æ–‡ä»¶ä¸­çš„BPM / BPM in sheet file
  "bpm": 497,
  //ä¹è°±çš„é”®ä½æ•°ç›®(å®ƒæ˜¯ä¸€ä¸ª 15 é”®ä½ä¹è°±è¿˜æ˜¯ 8 é”®ä½ä¹è°±)
  //key count(a 15 key sheet or 8 key sheet)
  "keyCount": 15,
  //ä¹è°±æ–‡ä»¶ä¸­çš„éŸ³é«˜ / pitch level in sheet file
  "pitchLevel": 3,
  //é”®çš„æ•°ç›® / note count
  //ä¹è°±æ–‡ä»¶ä¸­æ•°ç»„ songNotes çš„é•¿åº¦ / length of array songNotes in sheet file
  "noteCount": 1308,
  //ä½ çš„ç¤¾äº¤é“¾æ¥ / your social link
  //ä½ å¯ä»¥æ·»åŠ å¤šä¸ª / you can add many links if you want
  "social": [
    {
      //ç¤¾äº¤å¹³å°åç§°ä»£å·ï¼Œç°åœ¨æ”¯æŒ github, twitter, douyin(tiktok) and coolapk
      //platform code name, currently support github, twitter, douyin(tiktok) and coolapk
      "platform": "coolapk",
      //ç¤¾äº¤å¹³å°åç§° / social platform name
      "name": "é…·å®‰",
      //ç¤¾äº¤è¿æ¥ / social link
      "link": "http://www.coolapk.com/u/808787"
    }
  ]
},
```

ä¿®æ”¹å®Œæˆåï¼Œç”³è¯· `Pull Request` ï¼Œç­‰å¾… merge å³å¯ã€‚

After finishing, you need to create a new `pull request` and wait it to be merged.

> è¯·æ³¨æ„ï¼šåœ¨ç”³è¯·`Pull Request`ä¹‹å‰è¯·ç¡®ä¿ä½ æœ¬åœ°çš„ ä»“åº“å·²åŒæ­¥è‡³æœ€æ–°ï¼Œä»¥å…å‡ºç°æ„å¤–é—®é¢˜ï¼
>
> Attention: Before creating a new `pull request` , make sure your local repository is up-to-date!

### 2. å¦‚æœä½ ä¸æ˜¯å¾ˆæ‡‚ Github...<br>If you are not familiar with Github...

åªéœ€è¦æŠŠä¹è°±å‘é€åˆ°é‚®ç®± [beamiscool@qq.com](mailto:beamiscool@qq.com) æ¥äº¤ç»™æˆ‘å°±è¡Œå•¦ï¼åˆ«å¿˜äº†é™„å¸¦ä¹è°±ç®€ä»‹ï¼

Just mail your sheet file to [beamiscool@qq.com](mailto:beamiscool@qq.com) and don't forget the sheet description !

# æ³¨æ„! / Attention!

### è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹ä½¿ç”¨é¡»çŸ¥ï¼<br>Before using this script, you must read the following notes!

1. æœªå……åˆ†æµ‹è¯•ï¼Œè‹¥é‡åˆ°BUGï¼Œè¯·é…·å®‰ç§ä¿¡@StageGuardæˆ–æ–°å»ºIssueæ¥åé¦ˆBUGï¼<br>

   SkyAutoplayerScript is not fully tested, if you meet a bug, please PM CoolApk@StageGuard or create a new issue.

2. **SkyAutoplayerScriptæ˜¯å®Œå…¨å…è´¹ä¸”å¼€æºçš„è½¯ä»¶/è„šæœ¬([https://github.com/StageGuard/SkyAutoPlayerScript](https://github.com/StageGuard/SkyAutoPlayerScript))ï¼Œä½¿ç”¨ SkyAutoplayerScript ç›ˆåˆ©çš„åŒæ—¶è¯·æ ‡æ³¨æºé¡¹ç›®é“¾æ¥ã€‚**<br>

   **SkyAutoplayerScript is a free and open source project. If you want to use it for commercial purposes, please add the link refers to this repository.**

3. **å…±äº«ä¹è°±ä¸éµå®ˆLGPL-2.1åè®®ï¼Œå¦‚æ‚¨æƒ³åœ¨SkyAutoPlayerä»¥å¤–ä½¿ç”¨è¿™äº›ä¹è°±ï¼Œè¯·è‡ªè¡Œæ‰¾ä¹è°±ä½œè€…æˆæƒï¼**<br>

   **Shared sheets is not under the protection of LGPL-2.1, if you want to reprint shared sheets to other platforms, please contact sheet transcriber by yourself!**

4. æœ¬è„šæœ¬ä»…å¯ç”¨ä½œå¨±ä¹ç”¨é€”ï¼Œè¯·ä¸è¦åœ¨æ­£è§„åœºåˆä½¿ç”¨æœ¬è„šæœ¬(è¯·è‡ªè¡Œä½“ä¼š\"æ­£è§„åœºåˆ\"æ˜¯ä»€ä¹ˆæ„æ€)ï¼Œè‹¥å› ä½¿ç”¨æœ¬è„šæœ¬æ‰€å‡ºç°äº†ä¸€äº›ä¸å‹å¥½çš„é—®é¢˜ï¼Œä¸è„šæœ¬ä½œè€…StageGuardæ— å…³ã€‚<br>

   The script is just for entertainment and it is not suitable to use it in formal occasion.

5. è„šæœ¬åªèƒ½ç»™ä½ ä¸€æ—¶æ»¡è¶³æ„Ÿè€Œä¸èƒ½ä½¿ä½ è¿›æ­¥ï¼Œè¯·é€‚å½“ä½¿ç”¨ï¼Œåªæœ‰çœŸæ­£çš„æŠ€æœ¯æ‰æ˜¯ç‹é“ï¼Œæ‰èƒ½ä½¿ä½ æ„Ÿåˆ°å¿«ä¹ã€‚<br>

   Script just gives you a short-time sense of satisfaction and do not make you progress.

6. æœ¬è„šæœ¬åªæ˜¯ä¸€ä¸ª"å¼¹å¥æœº"ï¼Œå¹¶ä¸å†…ç½®æ›²è°±ï¼Œè¯·åœ¨ GooglePlay ä¸‹è½½ [SkyStudio](https://play.google.com/store/apps/details?id=com.Maple.SkyStudio) ç¼–è°±ã€‚<br>

   This script is just a "player" and no built-in sheets, you must download [SkyStudio](https://play.google.com/store/apps/details?id=com.Maple.SkyStudio) to make sheets.

7. æœ¬è„šæœ¬ä¸ä¼šå¢åŠ è§£å¯†ä¹è°±åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº**åŠ å¯†çš„SkyStudioä¹è°±**ï¼Œ**åŠ å¯†çš„JS**ç­‰ï¼Œä¹Ÿä¸æ¥å—åŠ å¯†ä¹è°±çš„å…±äº«ã€‚<br>

   The script will not support decrypt sheet, including **SkyStudio encryped sheet** or **encrypted js** etc...<br>And the repository will also not accept encrypted sheet.


<details> <summary>é’ˆå¯¹ä¸Šè¿°ç¬¬2, 3æ¡å‡ºç°çš„é—®é¢˜ï¼š</summary>

# å…³äºè„šæœ¬å€’å–çš„é—®é¢˜: [#1](https://github.com/StageGuard/SkyAutoPlayerScript/issues/1)

# è€»è¾±æŸ±

Gitee ç”¨æˆ·[å—¨æ¸¸åœˆ(@vipssp)](https://gitee.com/vipssp)åœ¨**æœªç»ä¹è°±ä¸Šä¼ è€…çš„åŒæ„ä¸‹ç§è‡ªç›—ç”¨** SkyAutoplayerScript äº Gitee çš„[åŒæ­¥é•œåƒ](https://gitee.com/stageguard/SkyAutoPlayerScript)åˆ°å®ƒçš„ [Gitee ä»“åº“](https://gitee.com/vipssp/SkyAutoPlayerScript/)ã€‚

åœ¨ç»è¿‡[é€šçŸ¥](https://gitee.com/vipssp/SkyAutoPlayerScript/commit/197925a71ff9cc6248be682a55406fc5814b12d7#note_3637784)åä»æœªåŠæ—¶åˆ é™¤ç›—ç”¨çš„ä¹è°±ï¼Œåœ¨äºä¸€äº›ä¹è°±åŸä½œè€…æ²Ÿé€šåï¼Œå†³å®šå°†å…¶æŒ‚åœ¨æ­¤ README.md é¦–éƒ¨ï¼Œä»¥å‘Šç¤ºã€‚

<table>
<tr>
    <td align="center" height="200">
        <img src="https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/resources/static/2020-12-19_0-8-40.PNG" />
    </td>
    <td align="center" height="200">
        <img src="https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/resources/static/2020-12-19_0-9-57.PNG" />
    </td>
    <td align="center" height="200">
        <img src="https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/resources/static/2020-12-19_0-44-4.PNG" />
    </td>
    <td align="center" height="200">
        <img src="https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/resources/static/Screenshot_2020-12-19-00-10-12-499_com.coolapk.market.jpg" />
    </td>
    <td align="center" height="200">
        <img src="https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/resources/static/Screenshot_2020-12-19-00-11-23-671_com.coolapk.market.jpg" />
    </td>
</tr>
</table>
</details>

# è´¡çŒ® / Contribution

æ¬¢è¿ä»»ä½•äººè´¡çŒ®æœ¬é¡¹ç›®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº Pull Requestï¼ŒIssueï¼ŒNew feature request æˆ–è€… è´¡çŒ®ç¿»è¯‘ã€‚

Welcome everyone to contribute this project, including pull request, issue, new feature request or translation.

## è´¡çŒ®è€… / Contributor

### SkyAutoPlayerScript

[@tiaod](https://github.com/tiaod)

### å…±äº«ä¹è°± / Shared sheets

é…·å®‰[@AexæŠ€æœ¯æ€»ç›‘](http://www.coolapk.com/u/1286879)

é…·å®‰[@å¤å¡å¡å¡](http://www.coolapk.com/u/2313452)

é…·å®‰[@æ·±ç©ºå¤±å¿†ã‹](http://www.coolapk.com/u/3005974)

æŠ–éŸ³[@å­å“²å•ŠğŸŒˆ(zizhe1880689503)](https://v.douyin.com/J9gUaVE/)

é…·å®‰[@ä½ ä»¬å¾ˆæœ‰è¶£å‘¢](http://www.coolapk.com/u/2416229)

é…·å®‰[@æƒ…å¦‚é£é›ªæ— å¸¸](http://www.coolapk.com/u/643670)

é…·å®‰[@æ…•ç–µ](http://www.coolapk.com/u/3286967)

é…·å®‰[@ç¤¾åŒºæœ€å¼±èŒæ–°](http://www.coolapk.com/u/3291313)

é…·å®‰[@ä¹æ–¹è¾°](http://www.coolapk.com/u/634078)

é…·å®‰[@åŒ—æé©¬å¯ç½—å°¼](http://www.coolapk.com/u/463478)

å“”å“©å“”å“©[@UTF16](https://space.bilibili.com/623364258)

é…·å®‰[@Syngenex](http://www.coolapk.com/u/1093421)

Twitter[Phoebe@huunhut1217](https://mobile.twitter.com/huunhut1217)

é…·å®‰[@ç»ˆç©¶æ˜¯é”™ä»˜äº†](http://www.coolapk.com/u/2293899)

é…·å®‰[@DesperatU](http://www.coolapk.com/u/1075889)

é…·å®‰[@æ˜æ˜é…±](http://www.coolapk.com/u/1706128)

é…·å®‰[@cxkçš„ç¯®çƒ](http://www.coolapk.com/u/1090769)

é…·å®‰[@å¤´æ¡ä¹€](http://www.coolapk.com/u/1192320)

é…·å®‰[@Alusias](http://www.coolapk.com/u/808787)

[chikin](mailto:2869826936@qq.com)

é…·å®‰[@æ¸©èŒ¶äºˆå›](http://www.coolapk.com/u/1212499)

## ç¿»è¯‘ / Translation

SkyAutoplayerScript åœ¨ç‰ˆæœ¬ 21 å·²æ”¯æŒå¤šè¯­è¨€å¹¶å¯ä»¥åœ¨çº¿è·å–è¯­è¨€åˆ—è¡¨ï¼Œä½ å¯ä»¥æŸ¥çœ‹ [contribute-translation.md](contribute-translation.md) (English) æ¥äº†è§£å¦‚ä½•è´¡çŒ®ç¿»è¯‘ã€‚

SkyAutoplayerScript version 21 has supported multi-language and can also fetch online language list, follow [contribute-translation.md](contribute-translation.md) (English) guide to contribute translation.

### è´¡çŒ®è€… / Contributor

æ— 

# å›¾æ ‡æ¥æº / Icon from:

[Iconfont-é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“](https://www.iconfont.cn/)

# é¸£è°¢ / Thanks to:

[projectXero](https://gitee.com/projectXero) (æä¾›é€‚ç”¨äºRhinoçš„`ListAdapter`)

# è®¸å¯è¯åè®® / LICENSE

```
    SkyAutoPlayer (Auto.js script)
	  Copyright Â© 2020-2021 StageGuard

  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation; either
  version 2.1 of the License, or (at your option) any later version.

  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.

  You should have received a copy of the GNU Lesser General Public
  License along with this library; if not, write to the Free Software
  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
  USA
```
