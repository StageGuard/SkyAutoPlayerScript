# å…³äºè„šæœ¬å€’å–çš„é—®é¢˜: [#1](https://github.com/StageGuard/SkyAutoPlayerScript/issues/1)

# SkyAutoPlayerScript
A script to play Sheets generated by SkyStudio automatically in game Sky with accessibility services using Auto.js
</br>ä½¿ç”¨Auto.jsæä¾›çš„æ— éšœç¢æƒé™å®ç°åœ¨Skyå…‰é‡ä¸­è‡ªåŠ¨å¼¹å¥[SkyStudio](https://play.google.com/store/apps/details?id=com.Maple.SkyStudio)å¯¼å‡ºçš„æ›²è°±

## ç‰¹æ€§
ç›¸æ¯”äºå…¶ä»–è„šæœ¬ï¼ŒSkyAutoPlayerScriptæ‹¥æœ‰ä»¥ä¸‹ä¼˜åŠ¿

* å…¨GUIæ“ä½œï¼Œæ— éœ€ç¼–è¾‘ä»»ä½•ä»£ç ï¼Œæµç•…çš„UIåŠ¨ç”»ã€‚
* å®Œæ•´çš„å¼¹å¥æ§åˆ¶é¢æ¿ï¼Œæ”¯æŒ**æš‚åœ**ï¼Œ **è¿›åº¦æ§åˆ¶**ï¼Œ **å€é€Ÿæ§åˆ¶**ç­‰
* è‡ªè®¾å®šé”®ä½åæ ‡ï¼Œé¿å…æŒ‰å‹ç´é”®çš„åç§»é—®é¢˜
* åœ¨çº¿[å…±äº«ä¹è°±](https://github.com/StageGuard/SkyAutoPlayerScript/tree/master/shared_sheets)ï¼Œæœ‰è®¸å¤šä¼˜è´¨ä¹è°±ã€‚</br>~~(ç”šè‡³æœ‰çš„ä¹è°±å¤æ‚åˆ°æ ¹æœ¬æ— æ³•æ‰‹å¼¹)~~
* è‡ªåŠ¨æ›´æ–°ï¼ŒåŠæ—¶ä¿®å¤BUGï¼Œæ— éœ€æ‹…å¿ƒç‰ˆæœ¬è¿‡æ—¶é—®é¢˜ã€‚
* ...

## ä½¿ç”¨
â‘ ä¸ºAuto.jså¼€å¯**æ— éšœç¢æœåŠ¡**å’Œ**æ‚¬æµ®çª—æƒé™**ã€‚
</br>â‘¡åœ¨Auto.jsä¸­æ–°å»ºä¸€ä¸ªè„šæœ¬å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç å¹¶è¿è¡Œï¼š
```javascript
"ui";
"use strict";
var emitter = events.emitter(threads.currentThread());
threads.start(function() {
  emitter.emit("evaluate", (function(){
    var resp = http.get("https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/source/SkyAutoplayer.js");
    if(resp.statusCode >= 200 && resp.statusCode < 300) {
      return resp.body.string();
    } else {
      resp = http.get("https://cdn.jsdelivr.net/gh/StageGuard/SkyAutoPlayerScript@" + http.get("https://gitee.com/stageguard/SkyAutoPlayerScript/raw/master/gitVersion").body.string() + "/source/SkyAutoplayer.js");
      if(resp.statusCode >= 200 && resp.statusCode < 300) {
        return resp.body.string();
      } else {
        return "console.show();console.log(\"Failed to load script\")";
      }
	}
  }()));
});
emitter.on('evaluate', function(s){
  eval(s);
});
```

åœ¨Auto.jsç‰ˆæœ¬`4.1.1 Alpha2 (461)`ä¸­æµ‹è¯•é€šè¿‡ï¼Œä¸ä¿è¯å…¶ä»–ç‰ˆæœ¬çš„å…¼å®¹æ€§(å–å†³äºå…¶ä»–ç‰ˆæœ¬ç›¸å¯¹äºæ­¤ç‰ˆæœ¬çš„APIæ˜¯å¦æœ‰`breaking changes`)
</br>Auto.js`4.1.1 Alpha2 (461)`ç‰ˆæœ¬ä¸‹è½½: [`Ericwyn/Auto.js/releases@V4.1.1.Alpha2`](https://github.com/Ericwyn/Auto.js/releases/tag/V4.1.1.Alpha2)
</br>æ‰‹æœºè¯·ä¸‹è½½`autoJs-V4.1.1.Alpha2-common-armeabi-v7a-debug.apk`

## æ¸…é™¤æ•°æ®
SkyAutoPlayeråœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿæœ¬åœ°æ•°æ®å­˜å‚¨ï¼Œè‹¥æƒ³å…¨éƒ¨åˆ é™¤ï¼Œè¯·ä½¿ç”¨Auto.jsæ‰§è¡Œä»¥ä¸‹ä»£ç 
```
storages.remove("StageGuard:SkyAutoPlayer:Config");
files.removeDir("/storage/emulated/0/Documents/SkyAutoPlayer/");
```

<br>

# ä¸Šä¼ ä¹è°±

ä½ å¯ä»¥forkæœ¬ä»“åº“ï¼Œå°†ä½ è¦ä¸Šä¼ çš„ä¹è°±æ·»åŠ è‡³`shared_sheets`æ–‡ä»¶å¤¹ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹è¦æ±‚åœ¨`shared_sheets.json`æ·»åŠ é¡¹ç›®
```javascript
{
    //ä¹è°±åç§°
    "name": "SheetName",
    //ä¹è°±æ–‡ä»¶å(äºshared_sheetsæ–‡ä»¶å¤¹ä¸­)
    "file": "SheetName.txt",
    //ä½ çš„id
    "author": "Author",
    //ä¹è°±ç®€ä»‹
    "desc": "This is a description about my sheet",
    //ä¹è°±BPM
    "bpm" : 320,
    //æš‚æ—¶æ²¡ç”¨
    "suggested_instrument": 1,
    //ä¹è°±éŸ³é«˜
    "pitchLevel": 0
  }
```

ä¿®æ”¹å®Œæˆåï¼Œç”³è¯·`Pull Request`ï¼Œç­‰å¾…mergeå³å¯ã€‚
> è¯·æ³¨æ„ï¼šåœ¨ç”³è¯·`Pull Request`ä¹‹å‰è¯·ç¡®ä¿ä½ çš„SkyAutoPlayerScriptä»“åº“å·²åŒæ­¥è‡³æœ€æ–°ï¼Œä»¥å…å‡ºç°æ„å¤–é—®é¢˜ï¼

<br>

# æ³¨æ„
### è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹ä½¿ç”¨é¡»çŸ¥ï¼

1. æœªå……åˆ†æµ‹è¯•ï¼Œè‹¥é‡åˆ°BUGï¼Œè¯·é…·å®‰ç§ä¿¡@StageGuardæˆ–æ–°å»ºIssueæ¥åé¦ˆBUGï¼
2. **SkyAutoPlayeræ˜¯å®Œå…¨å…è´¹ä¸”å¼€æºçš„è½¯ä»¶/è„šæœ¬([https://github.com/StageGuard/SkyAutoPlayerScript](https://github.com/StageGuard/SkyAutoPlayerScript))ï¼Œç¦æ­¢ä½¿ç”¨æœ¬è„šæœ¬ä½œä¸ºç›ˆåˆ©ç”¨é€”ï¼**
3. æœ¬è„šæœ¬ä»…å¯ç”¨ä½œå¨±ä¹ç”¨é€”ï¼Œè¯·ä¸è¦åœ¨æ­£è§„åœºåˆä½¿ç”¨æœ¬è„šæœ¬(è¯·è‡ªè¡Œä½“ä¼š\"æ­£è§„åœºåˆ\"æ˜¯ä»€ä¹ˆæ„æ€)ï¼Œè‹¥å› ä½¿ç”¨æœ¬è„šæœ¬æ‰€å‡ºç°äº†ä¸€äº›ä¸å‹å¥½çš„é—®é¢˜ï¼Œä¸è„šæœ¬ä½œè€…StageGuardæ— å…³ã€‚
4. è„šæœ¬åªèƒ½ç»™ä½ ä¸€æ—¶æ»¡è¶³æ„Ÿè€Œä¸èƒ½ä½¿ä½ è¿›æ­¥ï¼Œè¯·é€‚å½“ä½¿ç”¨ï¼Œåªæœ‰çœŸæ­£çš„æŠ€æœ¯æ‰æ˜¯ç‹é“ï¼Œæ‰èƒ½ä½¿ä½ æ„Ÿåˆ°å¿«ä¹ã€‚
5. æœ¬è„šæœ¬åªæ˜¯ä¸€ä¸ª"å¼¹å¥æœº"ï¼Œå¹¶ä¸å†…ç½®æ›²è°±ï¼Œè¯·åœ¨GooglePlayä¸‹è½½[SkyStudio](https://play.google.com/store/apps/details?id=com.Maple.SkyStudio)ç¼–è°±ã€‚

# è´¡çŒ®
æ¬¢è¿ä»»ä½•äººè´¡çŒ®æœ¬é¡¹ç›®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºPull Requestï¼ŒIssueï¼ŒNew feature request

## è´¡çŒ®è€…åå•(æŒ‰ç…§é¦–æ¬¡è´¡çŒ®æ—¶é—´æ’åº)

### SkyAutoPlayerScript
æ— 

### å…±äº«ä¹è°±
é…·å®‰[@AexæŠ€æœ¯æ€»ç›‘](http://www.coolapk.com/u/1286879)<br>
é…·å®‰[@å¤å¡å¡å¡](http://www.coolapk.com/u/2313452)<br>
é…·å®‰[@æ·±ç©ºå¤±å¿†ã‹](http://www.coolapk.com/u/3005974)<br>
æŠ–éŸ³@å­å“²å•ŠğŸŒˆ(zizhe1880689503)<br>
é…·å®‰[@ä½ ä»¬å¾ˆæœ‰è¶£å‘¢](http://www.coolapk.com/u/2416229)<br>
é…·å®‰[@æƒ…å¦‚é£é›ªæ— å¸¸](http://www.coolapk.com/u/643670)<br>
é…·å®‰[@æ…•ç–µ](http://www.coolapk.com/u/3286967)<br>
é…·å®‰[@ç¤¾åŒºæœ€å¼±èŒæ–°](http://www.coolapk.com/u/3291313)<br>
é…·å®‰[@ä¹æ–¹è¾°](http://www.coolapk.com/u/634078)<br>
é…·å®‰[@åŒ—æé©¬å¯ç½—å°¼](http://www.coolapk.com/u/463478)<br>
<br>

# å›¾æ ‡æ¥æº
[Iconfont-é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“](https://www.iconfont.cn/)
<br>

# é¸£è°¢
[projectXero](https://gitee.com/projectXero) (æä¾›é€‚ç”¨äºRhinoçš„`ListAdapter`)
<br>

# è®¸å¯è¯åè®®
```
	SkyAutoPlayer (Auto.js script)
	Copyright Â© 2020 StageGuard
	
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>
```